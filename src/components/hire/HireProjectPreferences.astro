---
interface RadioOption {
  value: string;
  label: string;
}

const locale = (Astro.currentLocale as "en" | "sv") ?? "en";

const translations = {
  en: {
    legend: "Communication Preferences",
    referralLabel: "How did you hear about me?",
    referralLabels: {
      googleSearch: "Google search",
      socialMedia: "Social media",
      referral: "Referral",
      portfolio: "Portfolio",
      previousWork: "Previous work",
      other: "Other",
    },
  },
  sv: {
    legend: "Kommunikationspreferenser",
    referralLabel: "Hur hörde du talas om mig?",
    referralLabels: {
      googleSearch: "Google-sökning",
      socialMedia: "Sociala medier",
      referral: "Rekommendation",
      portfolio: "Portfolio",
      previousWork: "Tidigare arbete",
      other: "Annat",
    },
  },
};

const referralOptions: RadioOption[] = [
  {
    value: "Google Search",
    label: translations[locale].referralLabels.googleSearch,
  },
  {
    value: "Social Media",
    label: translations[locale].referralLabels.socialMedia,
  },
  {
    value: "Referral",
    label: translations[locale].referralLabels.referral,
  },
  {
    value: "Portfolio",
    label: translations[locale].referralLabels.portfolio,
  },
  {
    value: "Previous Work",
    label: translations[locale].referralLabels.previousWork,
  },
  {
    value: "Other",
    label: translations[locale].referralLabels.other,
  },
];
---

<fieldset class="space-y-4">
  <legend class="text-sm font-medium tracking-wider text-stone-500 uppercase">
    {translations[locale].legend}
  </legend>

  <div>
    <label
      class="text-sm font-medium tracking-tight text-stone-800 dark:text-stone-100"
    >
      {translations[locale].referralLabel}
    </label>

    <div class="mt-2 grid gap-2 sm:grid-cols-3">
      {
        referralOptions.map((option) => (
          <label class="flex items-center gap-2 text-sm">
            <input
              type="radio"
              name="referral_source"
              value={option.value}
              class="text-red-500 focus:ring-red-500"
            />
            <span class="text-stone-700 dark:text-stone-300">
              {option.label}
            </span>
          </label>
        ))
      }
    </div>
  </div>
</fieldset>
